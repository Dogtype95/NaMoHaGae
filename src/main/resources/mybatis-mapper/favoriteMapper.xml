<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.kro.namohagae.mall.dao.FavoriteDao">
    <!-- 찜 등록 -->
    <insert id="save" parameterType="Integer">
        insert into FAVORITE(favorite_no,member_no,product_no) values(favorite_seq_favorite_no.nextval,#{memberNo},#{productNo})
    </insert>

    <!-- 해당 멤버의 찜리스트 -->
    <select id="findListByMemberNo" resultType="kr.kro.namohagae.mall.dto.FavoriteDto$list">
        select * from
        (
        select rownum as rnum, f.* from
        (

            <!-- sql문 수정중 -->

        ) f
        where rownum&lt;=#{endRowNum}
        )
        where rnum&gt;=#{startRowNum}
    </select>

    <!-- 찜 삭제 -->
    <delete id="delete">
        delete from FAVORITE where product_no = #{productNo} and member_no = #{memberNo}
    </delete>

    <!-- 찜 등록 여부 체크 -->
    <select id="existsByMyFavorite" resultType="Boolean">
        select count(*) from FAVORITE where product_no=#{productNo} and member_no=#{memberNo}
    </select>
</mapper>